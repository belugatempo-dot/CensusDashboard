# U.S. Census æ•°æ®å¯è§†åŒ–ä»ªè¡¨æ¿

è¿™æ˜¯ä¸€ä¸ªåŸºäº React å’Œ Recharts æ„å»ºçš„ç¾å›½äººå£æ™®æŸ¥æ•°æ®å¯è§†åŒ–ä»ªè¡¨æ¿ï¼Œé€šè¿‡é›†æˆ Census Bureau API å®æ—¶å±•ç¤ºäººå£ã€ç»æµå’Œäººå£ç»Ÿè®¡æ•°æ®ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š **å®æ—¶æ•°æ®**: ä» U.S. Census Bureau API è·å–æœ€æ–°æ•°æ®
- ğŸ¨ **ç°ä»£åŒ–ç•Œé¢**: æ·±è‰²ä¸»é¢˜ï¼Œæ¸å˜æ•ˆæœï¼Œæµç•…åŠ¨ç”»
- ğŸ“ˆ **å¤šç§å›¾è¡¨**: æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ã€é¥¼å›¾ã€é›·è¾¾å›¾ã€é¢ç§¯å›¾
- ğŸ—‚ï¸ **å¤šæ ‡ç­¾é¡µ**: æ€»è§ˆã€äººå£ã€ç»æµã€äººå£ç»“æ„å››ä¸ªä¸»é¢˜
- ğŸ“± **å“åº”å¼è®¾è®¡**: è‡ªé€‚åº”ä¸åŒå±å¹•å°ºå¯¸

## æ•°æ®æ¥æº

æœ¬é¡¹ç›®ä½¿ç”¨ U.S. Census Bureau æä¾›çš„å®˜æ–¹ API:

- **äººå£ä¼°è®¡æ•°æ®** (Population Estimates Program - PEP)
- **ç¾å›½ç¤¾åŒºè°ƒæŸ¥** (American Community Survey - ACS)
- **äººå£æ™®æŸ¥è¯¦ç»†è¡¨** (Detailed Tables)

## å¿«é€Ÿå¼€å§‹

### 1. è·å– Census API å¯†é’¥

è™½ç„¶ Census API å¯ä»¥æ— å¯†é’¥è®¿é—®ï¼ˆæœ‰è¯·æ±‚é™åˆ¶ï¼‰ï¼Œä½†å»ºè®®ç”³è¯·å…è´¹çš„ API å¯†é’¥ä»¥è·å¾—æ›´é«˜çš„è¯·æ±‚é…é¢ï¼š

1. è®¿é—® [https://api.census.gov/data/key_signup.html](https://api.census.gov/data/key_signup.html)
2. å¡«å†™è¡¨å•ç”³è¯· API å¯†é’¥
3. æ‚¨ä¼šæ”¶åˆ°ä¸€å°åŒ…å«å¯†é’¥çš„ç¡®è®¤é‚®ä»¶

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```bash
# åˆ›å»ºæœ¬åœ°ç¯å¢ƒå˜é‡æ–‡ä»¶
touch .env.local
```

ç¼–è¾‘ `.env.local` æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„ API å¯†é’¥:

```
VITE_CENSUS_API_KEY=your_api_key_here
```

**æ³¨æ„**: å¦‚æœä¸é…ç½® API å¯†é’¥ï¼Œåº”ç”¨ä»å¯è¿è¡Œï¼Œä½†å¯èƒ½ä¼šé‡åˆ°è¯·æ±‚é™åˆ¶ã€‚`.env.local` å·²åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šè¢«æäº¤åˆ° Gitã€‚

### 4. è¿è¡Œå¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ `http://localhost:3000` å¯åŠ¨ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ã€‚

### 5. è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶æŸ¥çœ‹ UI ç•Œé¢
npm run test:ui

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

### 6. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©å°†ç”Ÿæˆåœ¨ `dist/` ç›®å½•ã€‚

## é¡¹ç›®ç»“æ„

```
CensusDashboard/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ censusAPI.js       # Census API é›†æˆ
â”‚   â”œâ”€â”€ CensusDashboard.jsx    # ä¸»ç»„ä»¶
â”‚   â””â”€â”€ main.jsx               # åº”ç”¨å…¥å£
â”œâ”€â”€ index.html                 # HTML æ¨¡æ¿
â”œâ”€â”€ vite.config.js             # Vite é…ç½®
â”œâ”€â”€ package.json               # é¡¹ç›®é…ç½®
â”œâ”€â”€ .env.example               # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â””â”€â”€ README.md                  # é¡¹ç›®æ–‡æ¡£
```

## Census API é›†æˆè¯´æ˜

### API ç«¯ç‚¹

é¡¹ç›®ä½¿ç”¨ä»¥ä¸‹ Census API ç«¯ç‚¹ï¼š

1. **å„å·äººå£æ•°æ®**:
   ```
   /data/2023/pep/population
   ```

2. **å¹´é¾„å’Œæ€§åˆ«åˆ†å¸ƒ**:
   ```
   /data/2022/acs/acs5 (è¯¦ç»†è¡¨ B01001)
   ```

3. **ç§æ—å’Œæ°‘æ—æ•°æ®**:
   ```
   /data/2022/acs/acs5/profile (äººå£ç»Ÿè®¡æ¡£æ¡ˆ)
   ```

4. **æ”¶å…¥å’Œå¤±ä¸šç‡**:
   ```
   /data/2022/acs/acs5 (B19013 å’Œ DP03)
   ```

### API å‡½æ•°

`src/services/censusAPI.js` æä¾›ä»¥ä¸‹å‡½æ•°ï¼š

- `getStatePopulation()` - è·å–å„å·äººå£æ•°æ®
- `getACSData(stateCode)` - è·å–ç‰¹å®šå·çš„ ACS æ•°æ®
- `getAgeDistribution()` - è·å–å¹´é¾„åˆ†å¸ƒæ•°æ®
- `getRaceData()` - è·å–ç§æ—æ„æˆæ•°æ®
- `getAllStatesData()` - è·å–ç»¼åˆå·æ•°æ®ï¼ˆäººå£ + ACSï¼‰

### é”™è¯¯å¤„ç†

- API è°ƒç”¨å¤±è´¥æ—¶æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯ç•Œé¢
- åŒ…å«é‡æ–°åŠ è½½æŒ‰é’®
- æ§åˆ¶å°è¾“å‡ºè¯¦ç»†é”™è¯¯ä¿¡æ¯

## æŠ€æœ¯æ ˆ

- **React 18** - UI æ¡†æ¶
- **Recharts 2** - å›¾è¡¨åº“
- **Vite 6** - æ„å»ºå·¥å…·
- **Vitest** - å•å…ƒæµ‹è¯•æ¡†æ¶
- **Testing Library** - React ç»„ä»¶æµ‹è¯•
- **Census API** - æ•°æ®æº

## æµ‹è¯•

é¡¹ç›®åŒ…å«å…¨é¢çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼š

### å•å…ƒæµ‹è¯•
- **API æœåŠ¡æµ‹è¯•** (`src/services/__tests__/censusAPI.test.js`)
  - æ•°æ®è·å–å’Œè½¬æ¢é€»è¾‘
  - é”™è¯¯å¤„ç†
  - API URL æ„å»º
  - Mock fetch è¯·æ±‚

- **ç»„ä»¶æµ‹è¯•** (`src/__tests__/CensusDashboard.test.jsx`)
  - åŠ è½½çŠ¶æ€
  - é”™è¯¯çŠ¶æ€
  - æ•°æ®æ¸²æŸ“
  - æ ‡ç­¾åˆ‡æ¢
  - å¯è®¿é—®æ€§

### è¿è¡Œæµ‹è¯•

```bash
# Watch æ¨¡å¼ï¼ˆå¼€å‘æ—¶æ¨èï¼‰
npm test

# UI ç•Œé¢æ¨¡å¼
npm run test:ui

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

### æµ‹è¯•è¦†ç›–ç‡

è¦†ç›–ç‡æŠ¥å‘Šå°†ç”Ÿæˆåœ¨ `coverage/` ç›®å½•ï¼ŒåŒ…å«ï¼š
- HTML æŠ¥å‘Šï¼ˆå¯åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ï¼‰
- JSON æŠ¥å‘Š
- æ–‡æœ¬æŠ¥å‘Šï¼ˆç»ˆç«¯è¾“å‡ºï¼‰

## æ•°æ®è¯´æ˜

- **äººå£æ•°æ®**: ä½¿ç”¨ 2023 å¹´äººå£ä¼°è®¡
- **ACS æ•°æ®**: ä½¿ç”¨ 2022 å¹´ 5 å¹´æœŸç¾å›½ç¤¾åŒºè°ƒæŸ¥æ•°æ®
- **å†å²è¶‹åŠ¿**: éƒ¨åˆ†å†å²æ•°æ®ä¸ºé™æ€æ•°æ®
- **è¡Œä¸šå°±ä¸š**: é™æ€æ•°æ®ï¼ˆCensus API ä¸ç›´æ¥æä¾›ï¼‰

## API é™åˆ¶

Census Bureau API çš„é™åˆ¶ï¼š

- **æ— å¯†é’¥**: æ¯ä¸ª IP æ¯å¤© 500 æ¬¡è¯·æ±‚
- **æœ‰å¯†é’¥**: æ¯ä¸ªå¯†é’¥æ¯å¤©æ— é™æ¬¡è¯·æ±‚ï¼ˆä½†æœ‰é€Ÿç‡é™åˆ¶ï¼‰

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œå‚è€ƒä½¿ç”¨ã€‚Census Bureau æ•°æ®ä¸ºå…¬å¼€æ•°æ®ã€‚

## ç›¸å…³é“¾æ¥

- [Census Bureau API æ–‡æ¡£](https://www.census.gov/data/developers/guidance/api-user-guide.html)
- [Available APIs](https://www.census.gov/data/developers/data-sets.html)
- [Recharts æ–‡æ¡£](https://recharts.org/)
- [Vite æ–‡æ¡£](https://vitejs.dev/)

## æ³¨æ„äº‹é¡¹

âš ï¸ æœ¬é¡¹ç›®å±•ç¤ºçš„æ•°æ®ä»…ä¾›å‚è€ƒï¼Œä¸ä½œä¸ºå®˜æ–¹ç»Ÿè®¡æ•°æ®ä½¿ç”¨ã€‚å¦‚éœ€å®˜æ–¹æ•°æ®ï¼Œè¯·è®¿é—® [data.census.gov](https://data.census.gov)ã€‚
